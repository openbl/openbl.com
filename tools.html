<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Tools</title>

    <style>
      body {
        font-family: helvetica, arial, sans-serif;
        margin: 2em;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      
      .row {
        display: flex;
        justify-content: space-evenly;
      }

      .col {
        flex: 1 1;
        display: flex;
        flex-direction: column;
        padding: 1rem;
        border: solid 0.1rem;
      }

      .errors {
        color: red;
      }
    </style>
  </head>
  <body>
    <div class="row">
      <textarea id="input"></textarea>
    </div>
    <div class="row">
      <div id="btoa" class="col">
        <div class="title">
          btoa()
        </div>
        <div class="errors">

        </div>
        <div class="output">

        </div>
      </div>
      <div id="atob" class="col">
        <div class="title">
          atob()
        </div>
        <div class="errors">

        </div>
        <div class="output">

        </div>
      </div>

      <div id="encodeURI" class="col">
        <div class="title">
          encodeURI()
        </div>
        <div class="errors">

        </div>
        <div class="output">

        </div>
      </div>

      <div id="encodeURIComponent" class="col">
        <div class="title">
          encodeURIComponent()
        </div>
        <div class="errors">

        </div>
        <div class="output">

        </div>
      </div>

      <div id="decodeURI" class="col">
        <div class="title">
          decodeURI()
        </div>
        <div class="errors">

        </div>
        <div class="output">

        </div>
      </div>

      <div id="decodeURIComponent" class="col">
        <div class="title">
          decodeURIComponent()
        </div>
        <div class="errors">

        </div>
        <div class="output">

        </div>
      </div>
    </div>

    <script>
      var input = document.querySelector("#input");

      var outputs = [{
          fn: (x) => {
            return btoa(x);
          },
          output: document.querySelector("#btoa")
        },
        {
          fn: (x) => {
            return atob(x);
          },
          output: document.querySelector("#atob")
        },
        {
          fn: (x) => {
            return encodeURI(x);
          },
          output: document.querySelector("#encodeURI")
        },
        {
          fn: (x) => {
            return encodeURIComponent(x);
          },
          output: document.querySelector("#encodeURIComponent")
        },
        {
          fn: (x) => {
            return decodeURI(x);
          },
          output: document.querySelector("#decodeURI")
        },
        {
          fn: (x) => {
            return decodeURIComponent(x);
          },
          output: document.querySelector("#decodeURIComponent")
        }
      ];

      input.addEventListener("keyup", function() {
        outputs.forEach((output) => {
          try {
            output.output.querySelector('.output').innerHTML = output.fn(input.value);
            output.output.querySelector('.errors').innerHTML = '';
          } catch (error) {
            output.output.querySelector('.errors').innerHTML = error;
          }
        })
      });
    </script>
  </body>
</html>
